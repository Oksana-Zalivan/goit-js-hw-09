{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nlet formData = { email: '', message: '' };\n\nconst form = document.querySelector('.feedback-form');\nconst { email, message } = form.elements;\n\nconst save = (key, value) => {\ntry {\n    localStorage.setItem(key, JSON.stringify(value));\n} catch (e) {\n    console.warn('LocalStorage save error:', e);\n    }\n};\nconst load = key => {\ntry {\n    const raw = localStorage.getItem(key);\n    return raw ? JSON.parse(raw) : null;\n} catch (e) {\n    console.warn('LocalStorage load error:', e);\n    return null;\n    }\n};\nconst remove = key => localStorage.removeItem(key);\n\n\nconst saved = load(STORAGE_KEY);\nif (saved) {\n\n    if (typeof saved.email === 'string') {\n    email.value = saved.email;\n    formData.email = saved.email;\n    }\n    if (typeof saved.message === 'string') {\n    message.value = saved.message;\n    formData.message = saved.message;\n    }\n}\n\nform.addEventListener('input', evt => {\n    const { name, value } = evt.target;\n\n\n    if (!(name in formData)) return;\n\n    formData[name] = value.trim();\n    save(STORAGE_KEY, formData);\n});\n\nform.addEventListener('submit', evt => {\n    evt.preventDefault();\n\n    const current = {\n        email: email.value.trim(),\n        message: message.value.trim(),\n    };\n\n\n    if (!current.email || !current.message) {\n    alert('Fill please all fields');\n    return;\n    }  \n\n\n    console.log(current);\n\n    remove(STORAGE_KEY);\n    formData = { email: '', message: '' };\n    form.reset();\n});\n"],"names":["STORAGE_KEY","formData","form","email","message","save","key","value","e","load","raw","remove","saved","evt","name","current"],"mappings":"wFAAA,MAAMA,EAAc,sBAEpB,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAC9C,CAAE,MAAAC,EAAO,QAAAC,GAAYF,EAAK,SAE1BG,EAAO,CAACC,EAAKC,IAAU,CAC7B,GAAI,CACA,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACnD,OAASC,EAAG,CACR,QAAQ,KAAK,2BAA4BA,CAAC,CACzC,CACL,EACMC,EAAOH,GAAO,CACpB,GAAI,CACA,MAAMI,EAAM,aAAa,QAAQJ,CAAG,EACpC,OAAOI,EAAM,KAAK,MAAMA,CAAG,EAAI,IACnC,OAAS,EAAG,CACR,eAAQ,KAAK,2BAA4B,CAAC,EACnC,IACN,CACL,EACMC,EAASL,GAAO,aAAa,WAAWA,CAAG,EAG3CM,EAAQH,EAAKT,CAAW,EAC1BY,IAEI,OAAOA,EAAM,OAAU,WAC3BT,EAAM,MAAQS,EAAM,MACpBX,EAAS,MAAQW,EAAM,OAEnB,OAAOA,EAAM,SAAY,WAC7BR,EAAQ,MAAQQ,EAAM,QACtBX,EAAS,QAAUW,EAAM,UAI7BV,EAAK,iBAAiB,QAASW,GAAO,CAClC,KAAM,CAAE,KAAAC,EAAM,MAAAP,GAAUM,EAAI,OAGtBC,KAAQb,IAEdA,EAASa,CAAI,EAAIP,EAAM,KAAI,EAC3BF,EAAKL,EAAaC,CAAQ,EAC9B,CAAC,EAEDC,EAAK,iBAAiB,SAAUW,GAAO,CACnCA,EAAI,eAAc,EAElB,MAAME,EAAU,CACZ,MAAOZ,EAAM,MAAM,KAAM,EACzB,QAASC,EAAQ,MAAM,KAAM,CACrC,EAGI,GAAI,CAACW,EAAQ,OAAS,CAACA,EAAQ,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACC,CAGD,QAAQ,IAAIA,CAAO,EAEnBJ,EAAOX,CAAW,EAClBC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAK,MAAK,CACd,CAAC"}